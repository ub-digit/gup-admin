version: '3.7'
services:
  frontend-nuxt:
    image: docker.ub.gu.se/gup-admin-frontend-nuxt:${GIT_REVISION}
    build:
      context: ./frontend-nuxt
      args:
        - GIT_REPO_URL=${GIT_REPO_URL}
        - GIT_REVISION=${GIT_REVISION}
  backend:
    image: docker.ub.gu.se/gup-admin-backend:${GIT_REVISION}
    build:
      context: ./backend
      args:
        - GIT_REPO_URL=${GIT_REPO_URL}
        - GIT_REVISION=${GIT_REVISION}
  elasticsearch:
    image: docker.ub.gu.se/gup-admin-elasticsearch:${GIT_REVISION}
    build:
      context: ./elasticsearch
  index-manager:
    image: docker.ub.gu.se/gup-admin-index-manager:${GIT_REVISION}
    build:
      context: ./gup-index-manager
